{"version":3,"file":"static/js/342.8890f5ed.chunk.js","mappings":"yRAEaA,EAAmBC,EAAAA,GAAAA,IAAH,icAmBhBC,EAAOD,EAAAA,GAAAA,KAAH,8KAUJE,EAAaF,EAAAA,GAAAA,OAAH,qiBA4BVG,EAAYH,EAAAA,GAAAA,MAAH,yP,2BC/CP,SAASI,IACtB,OAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAWC,EAAAA,EAAAA,MACXC,EAAQJ,EAAaK,IAAI,SA2C/B,OA3BAC,EAAAA,EAAAA,YAAU,WAAM,wCAKd,8GAE6BC,EAAAA,EAAAA,IAAaH,GAF1C,OAG8B,KADpBI,EAFV,QAGmBC,QACbC,EAAAA,GAAAA,MACE,2EACA,CACEC,SAAU,cAIhBb,EAAUU,GAXd,gDAaIE,EAAAA,GAAAA,MAAY,iDAAkD,CAC5DC,SAAU,cAdhB,0DALc,sBACA,OAAVP,GAA4B,KAAVA,GADR,mCAwBdQ,EACD,GAAE,CAACR,KAGF,iCACE,2BACE,SAACd,EAAD,WACE,UAACE,EAAD,CAAMqB,SA7CQ,SAAAC,GACpBA,EAAEC,iBACF,IAAMC,EAAOF,EAAEG,cACfhB,EAAgB,CAAEG,MAAOY,EAAKE,SAASd,MAAMe,QAEO,KAAhDL,EAAEG,cAAcC,SAASd,MAAMe,MAAMC,OAMzCJ,EAAKK,QALHX,EAAAA,GAAAA,MAAY,mCAAoC,CAC9CC,SAAU,aAKf,EAiCO,WACE,UAAClB,EAAD,CAAY6B,KAAK,SAAjB,WACE,SAAC,MAAD,CAAUC,KAAM,KADlB,KACyB,yCAGzB,SAAC7B,EAAD,CACE4B,KAAK,OACLE,aAAa,MACbC,WAAS,EACTC,YAAY,gBACZC,KAAK,iBAMZ9B,EAAOY,OAAS,IACf,wBACGZ,EAAO+B,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OACV,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAaF,GAAMG,MAAO,CAAEC,KAAM/B,GAA1C,SACG4B,KAFID,EADC,OAShB,SAAC,KAAD,CAAgBK,UAAW,QAGhC,C","sources":["components/SearchBar/SearchBar.styled.js","components/Movies/Movies.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const SearchbarWrapper = styled.div`\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n`;\n\nexport const Form = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n`;\n\nexport const FormButton = styled.button`\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  :hover {\n    opacity: 1;\n  }\n  span {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    white-space: nowrap;\n    clip-path: inset(50%);\n    border: 0;\n  }\n`;\n\nexport const FormInput = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  :placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n`;\n","import { useSearchParams, useLocation, Link } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { SearchMovies } from '../Api/Api';\nimport {\n  SearchbarWrapper,\n  Form,\n  FormButton,\n  FormInput,\n} from '../SearchBar/SearchBar.styled';\nimport { HiSearch } from 'react-icons/hi';\nimport { ToastContainer, toast } from 'react-toastify';\n\nexport default function MoviesPage() {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n  const query = searchParams.get('query');\n\n  const onInputSubmit = e => {\n    e.preventDefault();\n    const form = e.currentTarget;\n    setSearchParams({ query: form.elements.query.value });\n\n    if (e.currentTarget.elements.query.value.trim() === '') {\n      toast.error('Please, enter your search query.', {\n        position: 'top-right',\n      });\n      return;\n    }\n    form.reset();\n  };\n\n  useEffect(() => {\n    if (query === null || query === '') {\n      return;\n    }\n\n    async function SearchMovieList() {\n      try {\n        const cardSearch = await SearchMovies(query);\n        if (cardSearch.length === 0) {\n          toast.error(\n            'Sorry, there are no films matching your search query. Please, try again.',\n            {\n              position: 'top-right',\n            }\n          );\n        }\n        setMovies(cardSearch);\n      } catch (error) {\n        toast.error('Something went wrong. Please, reload the page.', {\n          position: 'top-right',\n        });\n      }\n    }\n\n    SearchMovieList();\n  }, [query]);\n\n  return (\n    <>\n      <main>\n        <SearchbarWrapper>\n          <Form onSubmit={onInputSubmit}>\n            <FormButton type=\"submit\">\n              <HiSearch size={26} /> <span>Search</span>\n            </FormButton>\n\n            <FormInput\n              type=\"text\"\n              autoComplete=\"off\"\n              autoFocus\n              placeholder=\"Search movies\"\n              name=\"query\"\n            />\n          </Form>\n        </SearchbarWrapper>\n      </main>\n\n      {movies.length > 0 && (\n        <ul>\n          {movies.map(({ id, title }) => (\n            <li key={id}>\n              <Link to={`/movies/${id}`} state={{ from: location }}>\n                {title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n      <ToastContainer autoClose={3000} />\n    </>\n  );\n}\n"],"names":["SearchbarWrapper","styled","Form","FormButton","FormInput","MoviesPage","useState","movies","setMovies","useSearchParams","searchParams","setSearchParams","location","useLocation","query","get","useEffect","SearchMovies","cardSearch","length","toast","position","SearchMovieList","onSubmit","e","preventDefault","form","currentTarget","elements","value","trim","reset","type","size","autoComplete","autoFocus","placeholder","name","map","id","title","to","state","from","autoClose"],"sourceRoot":""}